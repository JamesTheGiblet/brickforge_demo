<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Architect Studio - BlockForge | Premium Real Estate Models</title>
  <link href="https://fonts.googleapis.com/css2?family=Space+Mono:wght@400;700&family=Work+Sans:wght@300;400;600;800&display=swap" rel="stylesheet">
  <style>
    :root {
      /* Light Theme (Default) */
      --bg-primary: #ffffff;
      --bg-secondary: #f8f9fa;
      --bg-tertiary: #e9ecef;
      --text-primary: #212529;
      --text-secondary: #495057;
      --text-muted: #6c757d;
      --text-inverted: #ffffff;
      --accent-primary: #FF5722;
      --accent-secondary: #1A4D6D;
      --border-primary: #dee2e6;
      --shadow-primary: rgba(0, 0, 0, 0.1);
      --shadow-secondary: rgba(0, 0, 0, 0.15);
      --premium-gold: #D4AF37;
      --premium-silver: #C0C0C0;
    }

    .dark-mode {
      /* Dark Theme */
      --bg-primary: #121212;
      --bg-secondary: #1e1e1e;
      --bg-tertiary: #2d2d2d;
      --text-primary: #ffffff;
      --text-secondary: #cccccc;
      --text-muted: #999999;
      --text-inverted: #121212;
      --accent-primary: #FF7043;
      --accent-secondary: #4FC3F7;
      --border-primary: #444444;
      --shadow-primary: rgba(0, 0, 0, 0.3);
      --shadow-secondary: rgba(0, 0, 0, 0.5);
      --premium-gold: #FFD700;
      --premium-silver: #E8E8E8;
    }

    * { margin: 0; padding: 0; box-sizing: border-box; }
    
    body { 
      font-family: 'Work Sans', sans-serif; 
      background: var(--bg-primary); 
      color: var(--text-primary);
      overflow-x: hidden;
      transition: background 0.3s, color 0.3s;
      min-height: 100vh;
    }

    /* Premium Navigation */
    .nav-hub {
      background: var(--bg-secondary);
      padding: 15px 30px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      box-shadow: 0 2px 10px var(--shadow-primary);
      position: sticky;
      top: 0;
      z-index: 1000;
      border-bottom: 2px solid var(--premium-gold);
    }

    .nav-hub-title {
      font-family: 'Space Mono', monospace;
      font-weight: bold;
      font-size: 1.3rem;
      color: var(--text-primary);
      -webkit-user-select: none;
      user-select: none;
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .nav-hub-title span {
      color: var(--accent-primary);
    }

    .premium-badge {
      background: linear-gradient(135deg, var(--premium-gold) 0%, var(--premium-silver) 100%);
      color: var(--text-inverted);
      padding: 2px 8px;
      border-radius: 4px;
      font-size: 0.7rem;
      font-weight: 800;
      letter-spacing: 1px;
      text-transform: uppercase;
      margin-left: 0.5rem;
    }

    .theme-toggle-btn {
      background: transparent;
      border: 2px solid var(--premium-gold);
      color: var(--text-primary);
      padding: 8px 12px;
      cursor: pointer;
      border-radius: 6px;
      font-size: 1.2rem;
      transition: all 0.3s;
      width: 44px;
      height: 44px;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .theme-toggle-btn:hover {
      background: var(--premium-gold);
      transform: scale(1.1);
    }

    .nav-hub-btn {
      background: transparent;
      border: 2px solid var(--premium-gold);
      color: var(--premium-gold);
      padding: 8px 20px;
      cursor: pointer;
      border-radius: 6px;
      font-weight: 600;
      transition: all 0.3s;
      min-height: 44px;
      text-decoration: none;
      display: flex;
      align-items: center;
    }

    .nav-hub-btn:hover {
      background: var(--premium-gold);
      color: var(--text-inverted);
      transform: translateY(-2px);
    }

    /* Premium Hero Section */
    .hero {
      background: linear-gradient(135deg, #0D2B3E 0%, #1A4D6D 50%, #D4AF37 100%);
      padding: 5rem 2rem 4rem;
      text-align: center;
      color: white;
      position: relative;
      overflow: hidden;
    }

    .hero::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: 
        radial-gradient(circle at 20% 50%, rgba(212, 175, 55, 0.15) 0%, transparent 50%),
        radial-gradient(circle at 80% 80%, rgba(26, 77, 109, 0.15) 0%, transparent 50%);
      animation: pulse 8s ease-in-out infinite;
    }

    @keyframes pulse {
      0%, 100% { opacity: 0.5; }
      50% { opacity: 1; }
    }

    .hero-content {
      position: relative;
      z-index: 1;
      max-width: 1200px;
      margin: 0 auto;
    }

    .hero h1 {
      font-size: clamp(2.5rem, 5vw, 4rem);
      font-weight: 800;
      margin-bottom: 1rem;
      letter-spacing: -1px;
      opacity: 0;
      animation: fadeInUp 0.8s ease forwards;
    }

    .hero .tagline {
      font-size: clamp(1.2rem, 2vw, 1.8rem);
      font-family: 'Space Mono', monospace;
      margin-bottom: 1.5rem;
      opacity: 0.9;
      opacity: 0;
      animation: fadeInUp 0.8s ease 0.2s forwards;
    }

    .hero .subtitle {
      font-size: 1.1rem;
      max-width: 800px;
      margin: 0 auto 2rem;
      line-height: 1.6;
      opacity: 0.85;
      opacity: 0;
      animation: fadeInUp 0.8s ease 0.4s forwards;
    }

    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    /* Value Proposition Cards */
    .value-props {
      max-width: 1200px;
      margin: -3rem auto 2rem;
      padding: 0 2rem;
      position: relative;
      z-index: 2;
    }

    .value-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 1.5rem;
    }

    .value-card {
      background: var(--bg-secondary);
      padding: 2rem;
      border-radius: 16px;
      box-shadow: 0 8px 30px var(--shadow-primary);
      border: 2px solid var(--premium-gold);
      text-align: center;
      transition: all 0.3s;
      opacity: 0;
      transform: translateY(20px);
      animation: fadeInScale 0.6s ease forwards;
    }

    .value-card:nth-child(1) { animation-delay: 0.1s; }
    .value-card:nth-child(2) { animation-delay: 0.2s; }
    .value-card:nth-child(3) { animation-delay: 0.3s; }
    .value-card:nth-child(4) { animation-delay: 0.4s; }

    @keyframes fadeInScale {
      from {
        opacity: 0;
        transform: scale(0.95) translateY(20px);
      }
      to {
        opacity: 1;
        transform: scale(1) translateY(0);
      }
    }

    .value-card:hover {
      transform: translateY(-8px);
      box-shadow: 0 15px 40px var(--shadow-primary);
    }

    .value-icon {
      font-size: 2.5rem;
      margin-bottom: 1rem;
      background: linear-gradient(135deg, var(--premium-gold) 0%, var(--premium-silver) 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .value-card h3 {
      font-size: 1.25rem;
      margin-bottom: 0.75rem;
      color: var(--text-primary);
    }

    .value-card p {
      font-size: 0.95rem;
      color: var(--text-muted);
      line-height: 1.5;
    }

    /* Main Container */
    .main-container {
      max-width: 1400px;
      margin: 4rem auto;
      padding: 0 2rem;
    }

    .workspace {
      display: grid;
      grid-template-columns: 400px 1fr;
      gap: 2rem;
      margin-top: 2rem;
    }

    @media (max-width: 968px) {
      .workspace {
        grid-template-columns: 1fr;
      }
    }

    /* Premium Panels */
    .panel {
      background: var(--bg-secondary);
      border-radius: 16px;
      padding: 2rem;
      box-shadow: 0 4px 20px var(--shadow-primary);
      border: 2px solid var(--border-primary);
      opacity: 0;
      transform: translateY(20px);
      animation: fadeInScale 0.6s ease forwards;
    }

    .panel.premium {
      border-color: var(--premium-gold);
      background: linear-gradient(135deg, var(--bg-secondary) 0%, var(--bg-tertiary) 100%);
    }

    .panel h2 {
      font-size: 1.5rem;
      font-weight: 700;
      margin-bottom: 1.5rem;
      color: var(--text-primary);
      display: flex;
      align-items: center;
      gap: 0.5rem;
      padding-bottom: 0.75rem;
      border-bottom: 2px solid var(--premium-gold);
    }

    .panel h2::before {
      content: 'üè†';
      font-size: 1.2rem;
    }

    /* Form Elements */
    label {
      display: block;
      margin: 1.5rem 0 0.5rem;
      color: var(--text-muted);
      font-size: 0.875rem;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    label:first-of-type {
      margin-top: 0;
    }

    input[type="file"] {
      width: 100%;
      padding: 0.75rem;
      background: var(--bg-tertiary);
      border: 2px solid var(--border-primary);
      border-radius: 8px;
      color: var(--text-primary);
      font-family: 'Work Sans', sans-serif;
      margin-top: 0.5rem;
      cursor: pointer;
    }

    input[type="file"]:hover {
      border-color: var(--premium-gold);
    }

    input[type="file"]::file-selector-button {
      background: linear-gradient(135deg, var(--premium-gold) 0%, var(--premium-silver) 100%);
      color: var(--text-inverted);
      border: none;
      padding: 0.5rem 1rem;
      border-radius: 4px;
      margin-right: 1rem;
      cursor: pointer;
      font-family: 'Work Sans', sans-serif;
      font-weight: 600;
      transition: all 0.3s;
    }

    input[type="file"]::file-selector-button:hover {
      transform: translateY(-1px);
    }

    input[type="range"] {
      width: 100%;
      height: 6px;
      cursor: pointer;
      background: var(--bg-tertiary);
      border-radius: 3px;
      outline: none;
      -webkit-appearance: none;
      appearance: none;
    }

    input[type="range"]::-webkit-slider-thumb {
      -webkit-appearance: none;
      width: 18px;
      height: 18px;
      border-radius: 50%;
      background: var(--premium-gold);
      cursor: pointer;
      box-shadow: 0 2px 6px rgba(212, 175, 55, 0.4);
      transition: all 0.3s;
    }

    input[type="range"]::-webkit-slider-thumb:hover {
      transform: scale(1.2);
    }

    input[type="range"]::-moz-range-thumb {
      width: 18px;
      height: 18px;
      border-radius: 50%;
      background: var(--premium-gold);
      cursor: pointer;
      border: none;
      box-shadow: 0 2px 6px rgba(212, 175, 55, 0.4);
    }

    select, textarea {
      background: var(--bg-tertiary);
      border: 1px solid var(--border-primary);
      color: var(--text-primary);
      padding: 0.75rem;
      border-radius: 8px;
      width: 100%;
      box-sizing: border-box;
      font-family: 'Work Sans', sans-serif;
      transition: all 0.3s;
    }

    select:focus, textarea:focus {
      outline: none;
      border-color: var(--premium-gold);
      box-shadow: 0 0 0 3px rgba(212, 175, 55, 0.1);
    }

    .range-value {
      font-size: 0.875rem;
      color: var(--text-secondary);
      text-align: right;
      margin-top: 0.25rem;
      font-family: 'Space Mono', monospace;
      font-weight: 600;
    }

    /* Premium Checkbox Row */
    .checkbox-row {
      display: flex;
      align-items: center;
      gap: 12px;
      margin: 1rem 0;
      background: var(--bg-tertiary);
      padding: 1rem;
      border-radius: 8px;
      border: 1px solid var(--border-primary);
      transition: all 0.3s;
      cursor: pointer;
    }

    .checkbox-row:hover {
      background: var(--bg-secondary);
      transform: translateY(-1px);
      border-color: var(--premium-gold);
    }

    .checkbox-row input {
      margin: 0;
      width: 18px;
      height: 18px;
      cursor: pointer;
      accent-color: var(--premium-gold);
    }

    .checkbox-row label {
      margin: 0;
      text-transform: none;
      color: var(--text-primary);
      font-size: 0.9rem;
      cursor: pointer;
      flex: 1;
    }

    .checkbox-row label strong {
      color: var(--text-primary);
      display: block;
      margin-bottom: 0.25rem;
    }

    .checkbox-row label span {
      font-size: 0.8rem;
      color: var(--text-muted);
      line-height: 1.4;
    }

    /* Premium Buttons */
    .controls {
      margin-top: 1.5rem;
      display: flex;
      flex-direction: column;
      gap: 0.75rem;
    }

    .btn {
      width: 100%;
      padding: 1rem;
      border: none;
      border-radius: 8px;
      font-size: 1rem;
      font-weight: 700;
      cursor: pointer;
      transition: all 0.3s ease;
      text-transform: uppercase;
      letter-spacing: 1px;
      font-family: 'Work Sans', sans-serif;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 0.5rem;
    }

    .btn-premium {
      background: linear-gradient(135deg, var(--premium-gold) 0%, var(--premium-silver) 100%);
      color: var(--text-inverted);
      box-shadow: 0 6px 20px rgba(212, 175, 55, 0.4);
    }

    .btn-premium:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 30px rgba(212, 175, 55, 0.5);
    }

    .btn-primary {
      background: linear-gradient(135deg, var(--accent-primary) 0%, #FF7043 100%);
      color: white;
      box-shadow: 0 6px 20px rgba(255, 87, 34, 0.4);
    }

    .btn-primary:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 30px rgba(255, 87, 34, 0.5);
    }

    .btn-secondary {
      background: var(--bg-tertiary);
      color: var(--text-primary);
      border: 2px solid var(--border-primary);
    }

    .btn-secondary:hover {
      background: var(--premium-gold);
      color: white;
      border-color: var(--premium-gold);
      transform: translateY(-2px);
    }

    /* Client Info Section */
    .client-section {
      background: var(--bg-tertiary);
      padding: 1.5rem;
      border-radius: 8px;
      margin-top: 1.5rem;
      border: 2px solid var(--premium-gold);
    }

    .client-section h3 {
      font-size: 1rem;
      color: var(--text-primary);
      margin-bottom: 1rem;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .client-section h3::before {
      content: 'üë§';
    }

    /* Preview Area */
    .preview-area {
      display: flex;
      flex-direction: column;
      gap: 2rem;
    }

    #preview-canvas {
      width: 100%;
      height: 400px;
      border-radius: 12px;
      background: var(--bg-tertiary);
      box-shadow: 0 4px 20px var(--shadow-primary);
      display: block;
      border: 2px solid var(--border-primary);
    }

    /* Model Stats */
    .model-stats {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 1rem;
      margin-bottom: 1.5rem;
    }

    .stat-box {
      background: linear-gradient(135deg, var(--premium-gold) 0%, var(--premium-silver) 100%);
      padding: 1.25rem;
      border-radius: 12px;
      text-align: center;
      color: var(--text-inverted);
      transition: all 0.3s;
    }

    .stat-box:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 25px rgba(212, 175, 55, 0.4);
    }

    .stat-val {
      font-size: 2rem;
      font-weight: 800;
      font-family: 'Space Mono', monospace;
      line-height: 1;
    }

    .stat-label {
      font-size: 0.75rem;
      opacity: 0.9;
      margin-top: 0.5rem;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    /* BOM Table */
    .bom-scroll {
      max-height: 300px;
      overflow-y: auto;
      border: 1px solid var(--border-primary);
      border-radius: 8px;
      background: var(--bg-tertiary);
    }

    .bom-scroll::-webkit-scrollbar {
      width: 8px;
    }

    .bom-scroll::-webkit-scrollbar-track {
      background: var(--bg-tertiary);
      border-radius: 4px;
    }

    .bom-scroll::-webkit-scrollbar-thumb {
      background: var(--premium-gold);
      border-radius: 4px;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      font-size: 0.9rem;
    }

    th {
      text-align: left;
      background: var(--bg-tertiary);
      color: var(--text-primary);
      position: sticky;
      top: 0;
      padding: 0.875rem;
      font-weight: 700;
      text-transform: uppercase;
      font-size: 0.75rem;
      letter-spacing: 0.5px;
      z-index: 1;
      border-bottom: 2px solid var(--premium-gold);
    }

    td {
      border-bottom: 1px solid var(--border-primary);
      padding: 0.75rem 0.875rem;
      color: var(--text-secondary);
    }

    tr:last-child td {
      border-bottom: none;
    }

    tr:hover {
      background: var(--bg-secondary);
    }

    .color-dot {
      display: inline-block;
      width: 16px;
      height: 16px;
      border-radius: 50%;
      margin-right: 0.75rem;
      border: 2px solid var(--border-primary);
      vertical-align: middle;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }

    /* Professional Features */
    .features-section {
      margin-top: 3rem;
      padding: 2rem;
      background: linear-gradient(135deg, var(--bg-tertiary) 0%, var(--bg-secondary) 100%);
      border-radius: 16px;
      border: 2px solid var(--premium-gold);
    }

    .features-section h3 {
      font-size: 1.5rem;
      margin-bottom: 1.5rem;
      color: var(--text-primary);
      text-align: center;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 0.5rem;
    }

    .features-section h3::before {
      content: 'üèÜ';
    }

    .features-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 1.5rem;
      margin-top: 1.5rem;
    }

    .feature-item {
      background: var(--bg-secondary);
      padding: 1.5rem;
      border-radius: 12px;
      border: 1px solid var(--border-primary);
      transition: all 0.3s;
    }

    .feature-item:hover {
      transform: translateY(-4px);
      border-color: var(--premium-gold);
      box-shadow: 0 6px 20px var(--shadow-primary);
    }

    .feature-item h4 {
      font-size: 1.1rem;
      margin-bottom: 0.5rem;
      color: var(--text-primary);
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .feature-item p {
      font-size: 0.9rem;
      color: var(--text-muted);
      line-height: 1.5;
    }

    /* Call to Action */
    .cta-section {
      background: linear-gradient(135deg, #0D2B3E 0%, #1A4D6D 100%);
      padding: 3rem 2rem;
      border-radius: 16px;
      margin-top: 3rem;
      text-align: center;
      color: white;
      position: relative;
      overflow: hidden;
    }

    .cta-section::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: radial-gradient(circle at 30% 50%, rgba(212, 175, 55, 0.2) 0%, transparent 50%);
    }

    .cta-content {
      position: relative;
      z-index: 1;
      max-width: 800px;
      margin: 0 auto;
    }

    .cta-section h3 {
      font-size: 2rem;
      margin-bottom: 1rem;
    }

    .cta-section p {
      font-size: 1.1rem;
      opacity: 0.9;
      margin-bottom: 2rem;
      line-height: 1.6;
    }

    /* Responsive */
    @media (max-width: 768px) {
      .model-stats {
        grid-template-columns: 1fr;
      }
      
      .hero {
        padding: 3rem 1rem 2rem;
      }
      
      .main-container {
        padding: 0 1rem;
      }
      
      .panel {
        padding: 1.5rem;
      }
      
      .value-grid {
        grid-template-columns: 1fr;
      }
      
      .value-props {
        margin-top: 1rem;
      }
    }

    /* Loading Animation */
    .loading {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0, 0, 0, 0.8);
      z-index: 9999;
      justify-content: center;
      align-items: center;
      flex-direction: column;
      color: white;
    }

    .spinner {
      width: 60px;
      height: 60px;
      border: 4px solid var(--bg-tertiary);
      border-top-color: var(--premium-gold);
      border-radius: 50%;
      animation: spin 1s linear infinite;
      margin-bottom: 1rem;
    }

    @keyframes spin {
      to { transform: rotate(360deg); }
    }
  </style>
</head>
<body>
  <!-- Premium Navigation -->
  <div class="nav-hub">
    <button id="theme-toggle" class="theme-toggle-btn" title="Toggle theme" aria-label="Toggle theme">üåô</button>
    <div class="nav-hub-title" onclick="location.href='index.html'">
      BLOCK<span>FORGE</span>
      <span class="premium-badge">Architect</span>
    </div>
    <a href="index.html" class="nav-hub-btn">‚Üê Home</a>
  </div>

  <!-- Premium Hero -->
  <section class="hero">
    <div class="hero-content">
      <h1>Architect Studio</h1>
      <p class="tagline">Transform Real Estate into Buildable Art</p>
      <p class="subtitle">Create stunning, custom LEGO architectural models from house photos. Perfect for realtors, closing gifts, and premium client presentations.</p>
    </div>
  </section>

  <!-- Value Propositions -->
  <div class="value-props">
    <div class="value-grid">
      <div class="value-card">
        <div class="value-icon">üèÜ</div>
        <h3>Premium Closing Gifts</h3>
        <p>Impress clients with unique, personalized architectural models that commemorate their new home.</p>
      </div>
      <div class="value-card">
        <div class="value-icon">üìê</div>
        <h3>Architectural Precision</h3>
        <p>Convert any house photo into a detailed, buildable 3D model with accurate proportions and features.</p>
      </div>
      <div class="value-card">
        <div class="value-icon">üéÅ</div>
        <h3>Turnkey Solution</h3>
        <p>We handle everything: model generation, brick sourcing, and custom packaging for realtors.</p>
      </div>
      <div class="value-card">
        <div class="value-icon">üöÄ</div>
        <h3>Fast Turnaround</h3>
        <p>Generate and order custom architectural models in minutes, delivered to your clients in days.</p>
      </div>
    </div>
  </div>

  <!-- Main Container -->
  <div class="main-container">
    <div class="workspace">
      <!-- Configuration Panel -->
      <div class="panel premium">
        <h2>Architectural Model Setup</h2>
        
        <label>House Photo Upload</label>
        <input id="file" type="file" accept="image/*" title="Upload front-facing house photo">
        <p style="font-size: 0.8rem; color: var(--text-muted); margin-top: 0.25rem;">
          Upload a clear, front-facing photo of the house. Best results with straight-on shots in good lighting.
        </p>

        <label>Model Detail Level</label>
        <input id="detail" type="range" min="1" max="10" value="7" title="Model Detail Level">
        <div class="range-value"><span id="detail-val">7</span>/10</div>

        <label>Architectural Style</label>
        <select id="style" title="Select architectural style">
          <option value="modern">Modern Contemporary</option>
          <option value="traditional">Traditional</option>
          <option value="colonial">Colonial</option>
          <option value="victorian">Victorian</option>
          <option value="ranch">Ranch Style</option>
          <option value="custom">Custom Design</option>
        </select>

        <label>Base Size (inches)</label>
        <select id="base-size" title="Select base size for architectural model">
          <option value="8x8">8" √ó 8" (Small)</option>
          <option value="12x12" selected>12" √ó 12" (Standard)</option>
          <option value="16x16">16" √ó 16" (Large)</option>
          <option value="20x20">20" √ó 20" (Premium)</option>
        </select>

        <div class="checkbox-row">
          <input id="include-trees" type="checkbox" checked>
          <label for="include-trees">
            <strong>Include Landscaping</strong>
            <span>Add trees, shrubs, and basic landscaping elements</span>
          </label>
        </div>

        <div class="checkbox-row">
          <input id="include-fence" type="checkbox">
          <label for="include-fence">
            <strong>Include Fence</strong>
            <span>Add picket fence or boundary elements</span>
          </label>
        </div>

        <!-- Client Information -->
        <div class="client-section">
          <h3>Client Information (For Plaque)</h3>
          <label>Client Name(s)</label>
          <input type="text" id="client-name" placeholder="The Johnson Family" style="margin-bottom: 1rem;">
          
          <label>Property Address</label>
          <input type="text" id="property-address" placeholder="123 Maple Street, Anytown, USA">
          
          <label>Closing Date</label>
          <input type="date" id="closing-date" style="margin-bottom: 1rem;" title="Select closing date" placeholder="MM/DD/YYYY">
          
          <label>Realtor/Company Name</label>
          <input type="text" id="realtor-name" placeholder="Your Realty Company">
        </div>

        <div class="controls">
          <button id="generate" class="btn btn-premium">üè† Generate Model</button>
          <button id="order" class="btn btn-primary" style="display:none">üì¶ Order Model ($249)</button>
        </div>
        
        <div class="actions-section" style="margin-top: 1.5rem; padding-top: 1.5rem; border-top: 1px solid var(--border-primary);">
          <h2>Export Options</h2>
          <div class="controls">
            <button id="downloadPNG" class="btn btn-secondary">üì∏ Save Render</button>
            <button id="downloadCSV" class="btn btn-secondary">üìÑ Parts List</button>
            <button id="downloadInstructions" class="btn btn-secondary">üìñ Build Guide</button>
          </div>
        </div>
      </div>

      <!-- Preview & Stats -->
      <div class="preview-area">
        <div class="panel">
          <h2>Architectural Preview</h2>
          <canvas id="preview-canvas"></canvas>
        </div>

        <div class="panel" id="stats-panel" style="display:none">
          <h2>Model Specifications</h2>
          <div class="model-stats">
            <div class="stat-box">
              <div class="stat-val" id="total-bricks">0</div>
              <div class="stat-label">Total Bricks</div>
            </div>
            <div class="stat-box">
              <div class="stat-val" id="model-size">0"</div>
              <div class="stat-label">Model Size</div>
            </div>
            <div class="stat-box">
              <div class="stat-val" id="model-weight">0 lbs</div>
              <div class="stat-label">Approx. Weight</div>
            </div>
          </div>
          
          <div class="bom-scroll">
            <table id="bom-table">
              <thead><tr><th>Component</th><th>Color</th><th>Quantity</th></tr></thead>
              <tbody></tbody>
            </table>
          </div>
        </div>
      </div>
    </div>

    <!-- Professional Features -->
    <div class="features-section">
      <h3>Why Architects & Realtors Choose BlockForge</h3>
      <div class="features-grid">
        <div class="feature-item">
          <h4>üéØ Custom Branding</h4>
          <p>Include your realty logo, contact information, and personalized message on the display base.</p>
        </div>
        <div class="feature-item">
          <h4>üì¶ Complete Kits</h4>
          <p>We source all bricks, provide step-by-step instructions, and include display case options.</p>
        </div>
        <div class="feature-item">
          <h4>‚è±Ô∏è 5-Day Production</h4>
          <p>From photo to doorstep in less than a week. Rush 2-day service available.</p>
        </div>
        <div class="feature-item">
          <h4>üè¢ Bulk Discounts</h4>
          <p>Special pricing for realty firms ordering 5+ models per month. Volume pricing available.</p>
        </div>
      </div>
    </div>

    <!-- Call to Action -->
    <div class="cta-section">
      <div class="cta-content">
        <h3>Ready to Impress Your Clients?</h3>
        <p>Join hundreds of successful realtors who use BlockForge architectural models as their signature closing gift. Average client satisfaction: 4.9/5 stars.</p>
        <button class="btn btn-premium" style="width: auto; padding: 1rem 3rem;">üìû Schedule Demo</button>
        <p style="font-size: 0.9rem; margin-top: 1rem; opacity: 0.8;">Free sample model for qualified realty firms</p>
      </div>
    </div>
  </div>

  <!-- Loading Overlay -->
  <div class="loading" id="loading">
    <div class="spinner"></div>
    <p>Generating Architectural Model...</p>
    <p style="font-size: 0.9rem; margin-top: 0.5rem; opacity: 0.8;">Analyzing architectural features and generating 3D model</p>
  </div>

<script>
/* ---------- Theme Switching ---------- */
const applyTheme = (theme) => {
  if (theme === 'dark') {
    document.body.classList.add('dark-mode');
    document.getElementById('theme-toggle').innerHTML = '‚òÄÔ∏è';
    document.getElementById('theme-toggle').setAttribute('aria-label', 'Switch to light theme');
  } else {
    document.body.classList.remove('dark-mode');
    document.getElementById('theme-toggle').innerHTML = 'üåô';
    document.getElementById('theme-toggle').setAttribute('aria-label', 'Switch to dark theme');
  }
};

const savedTheme = localStorage.getItem('theme') || 'light';
applyTheme(savedTheme);

document.getElementById('theme-toggle').addEventListener('click', () => {
  const newTheme = document.body.classList.contains('dark-mode') ? 'light' : 'dark';
  localStorage.setItem('theme', newTheme);
  applyTheme(newTheme);
});

/* ---------- Architectural Color Palette ---------- */
const ARCHITECTURE_PALETTE = [
  // Roof Colors
  {name: "Dark Brown Roof", hex: "#582A12", type: "roof"},
  {name: "Charcoal Gray Roof", hex: "#363636", type: "roof"},
  {name: "Terracotta Roof", hex: "#B55239", type: "roof"},
  {name: "Slate Gray Roof", hex: "#708090", type: "roof"},
  // Siding Colors
  {name: "White Siding", hex: "#FFFFFF", type: "siding"},
  {name: "Cream Siding", hex: "#FFFDD0", type: "siding"},
  {name: "Beige Siding", hex: "#F5F5DC", type: "siding"},
  {name: "Light Gray Siding", hex: "#D3D3D3", type: "siding"},
  {name: "Blue Siding", hex: "#87CEEB", type: "siding"},
  {name: "Yellow Siding", hex: "#FFD700", type: "siding"},
  {name: "Red Brick", hex: "#B22222", type: "siding"},
  // Trim Colors
  {name: "White Trim", hex: "#FFFFFF", type: "trim"},
  {name: "Black Trim", hex: "#000000", type: "trim"},
  {name: "Dark Gray Trim", hex: "#363636", type: "trim"},
  {name: "Brown Trim", hex: "#8B4513", type: "trim"},
  // Door Colors
  {name: "Red Door", hex: "#8B0000", type: "door"},
  {name: "Blue Door", hex: "#00008B", type: "door"},
  {name: "Green Door", hex: "#006400", type: "door"},
  {name: "Black Door", hex: "#000000", type: "door"},
  {name: "White Door", hex: "#FFFFFF", type: "door"},
  // Window Colors
  {name: "White Window", hex: "#FFFFFF", type: "window"},
  {name: "Black Window", hex: "#000000", type: "window"},
  // Foundation
  {name: "Gray Foundation", hex: "#808080", type: "foundation"},
  {name: "Brown Foundation", hex: "#8B4513", type: "foundation"},
  // Landscaping
  {name: "Green Grass", hex: "#228B22", type: "landscape"},
  {name: "Dark Green Tree", hex: "#006400", type: "landscape"},
  {name: "Light Green Tree", hex: "#32CD32", type: "landscape"},
  {name: "Brown Tree Trunk", hex: "#8B4513", type: "landscape"},
  // Special Architectural
  {name: "Gold Accent", hex: "#FFD700", type: "accent"},
  {name: "Silver Accent", hex: "#C0C0C0", type: "accent"},
  {name: "Copper Accent", hex: "#B87333", type: "accent"}
];

/* ---------- App State ---------- */
const el = id => document.getElementById(id);
let houseImage = null;
let lastResult = null;
let isGenerating = false;

/* ---------- Initialize UI ---------- */
// Set today's date as default for closing date
const today = new Date().toISOString().split('T')[0];
el('closing-date').value = today;

// Update detail value display
el('detail').addEventListener('input', e => {
  el('detail-val').textContent = e.target.value;
});

// Handle file upload
el('file').addEventListener('change', async (e) => {
  const file = e.target.files[0];
  if (!file) return;

  const url = URL.createObjectURL(file);
  const img = new Image();
  
  img.onload = () => {
    houseImage = img;
    URL.revokeObjectURL(url);
    showPreview(img);
  };
  
  img.src = url;
});

/* ---------- Show Preview ---------- */
function showPreview(img) {
  const canvas = el('preview-canvas');
  const ctx = canvas.getContext('2d');
  
  // Calculate dimensions to fit canvas while maintaining aspect ratio
  const maxWidth = canvas.width;
  const maxHeight = canvas.height;
  let width = img.width;
  let height = img.height;
  
  if (width > maxWidth) {
    height = (maxWidth / width) * height;
    width = maxWidth;
  }
  
  if (height > maxHeight) {
    width = (maxHeight / height) * width;
    height = maxHeight;
  }
  
  // Center the image
  const x = (canvas.width - width) / 2;
  const y = (canvas.height - height) / 2;
  
  ctx.clearRect(0, 0, canvas.width, canvas.height);
  ctx.fillStyle = getComputedStyle(document.documentElement).getPropertyValue('--bg-tertiary');
  ctx.fillRect(0, 0, canvas.width, canvas.height);
  ctx.drawImage(img, x, y, width, height);
  
  // Add architectural overlay
  ctx.font = '16px "Work Sans"';
  ctx.fillStyle = 'rgba(255, 255, 255, 0.8)';
  ctx.textAlign = 'center';
  ctx.fillText('üéØ Upload Successful - Ready to Generate Model', canvas.width/2, 30);
}

/* ---------- Generate Architectural Model ---------- */
async function generateModel() {
  if (!houseImage) {
    alert("Please upload a house photo first.");
    return;
  }

  if (isGenerating) return;
  isGenerating = true;
  
  // Show loading
  el('loading').style.display = 'flex';
  
  try {
    // Simulate processing delay (in real app, this would be actual image processing)
    await new Promise(resolve => setTimeout(resolve, 2000));
    
    const detailLevel = parseInt(el('detail').value);
    const style = el('style').value;
    const baseSize = el('base-size').value;
    const includeTrees = el('include-trees').checked;
    const includeFence = el('include-fence').checked;
    
    // Generate mock architectural model data
    const modelData = generateMockArchitecturalModel(detailLevel, style, includeTrees, includeFence);
    
    // Update UI with results
    updateModelStats(modelData);
    renderArchitecturalPreview(modelData);
    updateBOMTable(modelData);
    
    // Show order button
    el('order').style.display = 'flex';
    
    lastResult = modelData;
    
  } catch (error) {
    console.error('Error generating model:', error);
    alert('Error generating model. Please try again with a different image.');
  } finally {
    isGenerating = false;
    el('loading').style.display = 'none';
  }
}

/* ---------- Generate Mock Architectural Data ---------- */
function generateMockArchitecturalModel(detailLevel, style, includeTrees, includeFence) {
  const baseSizes = {
    '8x8': { bricks: 500, width: 8, weight: 2.5 },
    '12x12': { bricks: 1200, width: 12, weight: 6 },
    '16x16': { bricks: 2200, width: 16, weight: 11 },
    '20x20': { bricks: 3500, width: 20, weight: 17.5 }
  };
  
  const baseSize = el('base-size').value;
  const baseStats = baseSizes[baseSize];
  
  // Adjust brick count based on detail level
  const brickMultiplier = 0.5 + (detailLevel * 0.1);
  const totalBricks = Math.round(baseStats.bricks * brickMultiplier);
  
  // Generate mock BOM
  const bom = [
    { component: 'Roof Tiles', color: ARCHITECTURE_PALETTE.find(c => c.type === 'roof' && c.name.includes('Brown')).hex, quantity: Math.round(totalBricks * 0.25) },
    { component: 'Siding', color: ARCHITECTURE_PALETTE.find(c => c.type === 'siding' && c.name.includes('White')).hex, quantity: Math.round(totalBricks * 0.35) },
    { component: 'Windows', color: ARCHITECTURE_PALETTE.find(c => c.type === 'window' && c.name.includes('White')).hex, quantity: Math.round(totalBricks * 0.15) },
    { component: 'Door', color: ARCHITECTURE_PALETTE.find(c => c.type === 'door' && c.name.includes('Red')).hex, quantity: Math.round(totalBricks * 0.05) },
    { component: 'Foundation', color: ARCHITECTURE_PALETTE.find(c => c.type === 'foundation' && c.name.includes('Gray')).hex, quantity: Math.round(totalBricks * 0.1) },
    { component: 'Trim', color: ARCHITECTURE_PALETTE.find(c => c.type === 'trim' && c.name.includes('White')).hex, quantity: Math.round(totalBricks * 0.1) }
  ];
  
  if (includeTrees) {
    bom.push({ component: 'Trees', color: ARCHITECTURE_PALETTE.find(c => c.type === 'landscape' && c.name.includes('Dark Green')).hex, quantity: 12 });
    bom.push({ component: 'Tree Trunks', color: ARCHITECTURE_PALETTE.find(c => c.type === 'landscape' && c.name.includes('Brown')).hex, quantity: 12 });
    bom.push({ component: 'Grass', color: ARCHITECTURE_PALETTE.find(c => c.type === 'landscape' && c.name.includes('Green Grass')).hex, quantity: 60 });
  }
  
  if (includeFence) {
    bom.push({ component: 'Fence', color: ARCHITECTURE_PALETTE.find(c => c.type === 'trim' && c.name.includes('White')).hex, quantity: 40 });
  }
  
  return {
    totalBricks,
    modelWidth: baseStats.width,
    modelWeight: baseStats.weight,
    bom,
    style,
    detailLevel,
    clientName: el('client-name').value || 'The Johnson Family',
    propertyAddress: el('property-address').value || '123 Maple Street',
    closingDate: el('closing-date').value,
    realtorName: el('realtor-name').value || 'Your Realty Company'
  };
}

/* ---------- Update Model Stats ---------- */
function updateModelStats(modelData) {
  el('total-bricks').textContent = modelData.totalBricks.toLocaleString();
  el('model-size').textContent = `${modelData.modelWidth}"`;
  el('model-weight').textContent = `${modelData.modelWeight} lbs`;
  el('stats-panel').style.display = 'block';
}

/* ---------- Render Architectural Preview ---------- */
function renderArchitecturalPreview(modelData) {
  const canvas = el('preview-canvas');
  const ctx = canvas.getContext('2d');
  const width = canvas.width;
  const height = canvas.height;
  
  // Clear canvas
  ctx.clearRect(0, 0, width, height);
  
  // Background
  ctx.fillStyle = getComputedStyle(document.documentElement).getPropertyValue('--bg-tertiary');
  ctx.fillRect(0, 0, width, height);
  
  // Draw architectural diagram
  drawHouseDiagram(ctx, width, height, modelData);
  
  // Add info overlay
  ctx.font = 'bold 18px "Work Sans"';
  ctx.fillStyle = getComputedStyle(document.documentElement).getPropertyValue('--text-primary');
  ctx.textAlign = 'center';
  ctx.fillText('üè† Architectural Model Preview', width/2, 30);
  
  ctx.font = '14px "Work Sans"';
  ctx.fillStyle = getComputedStyle(document.documentElement).getPropertyValue('--text-secondary');
  ctx.fillText(`${modelData.style.charAt(0).toUpperCase() + modelData.style.slice(1)} Style ‚Ä¢ ${modelData.modelWidth}" Model`, width/2, 55);
}

function drawHouseDiagram(ctx, width, height, modelData) {
  const centerX = width / 2;
  const baseY = height - 100;
  
  // House base
  ctx.fillStyle = ARCHITECTURE_PALETTE.find(c => c.type === 'foundation').hex;
  ctx.fillRect(centerX - 120, baseY, 240, 20);
  
  // Main house
  ctx.fillStyle = ARCHITECTURE_PALETTE.find(c => c.type === 'siding' && c.name.includes('White')).hex;
  ctx.fillRect(centerX - 100, baseY - 150, 200, 150);
  
  // Roof
  ctx.fillStyle = ARCHITECTURE_PALETTE.find(c => c.type === 'roof' && c.name.includes('Brown')).hex;
  ctx.beginPath();
  ctx.moveTo(centerX - 120, baseY - 150);
  ctx.lineTo(centerX, baseY - 220);
  ctx.lineTo(centerX + 120, baseY - 150);
  ctx.closePath();
  ctx.fill();
  
  // Windows
  ctx.fillStyle = ARCHITECTURE_PALETTE.find(c => c.type === 'window').hex;
  ctx.fillRect(centerX - 80, baseY - 120, 30, 40); // Left window
  ctx.fillRect(centerX + 50, baseY - 120, 30, 40); // Right window
  
  // Door
  ctx.fillStyle = ARCHITECTURE_PALETTE.find(c => c.type === 'door' && c.name.includes('Red')).hex;
  ctx.fillRect(centerX - 20, baseY - 80, 40, 80);
  
  // Landscaping (if included)
  if (modelData.bom.some(item => item.component === 'Trees')) {
    // Trees
    ctx.fillStyle = ARCHITECTURE_PALETTE.find(c => c.type === 'landscape' && c.name.includes('Brown Tree')).hex;
    ctx.fillRect(centerX - 160, baseY - 40, 10, 40); // Left tree trunk
    ctx.fillRect(centerX + 150, baseY - 40, 10, 40); // Right tree trunk
    
    ctx.fillStyle = ARCHITECTURE_PALETTE.find(c => c.type === 'landscape' && c.name.includes('Dark Green')).hex;
    ctx.beginPath();
    ctx.arc(centerX - 155, baseY - 60, 25, 0, Math.PI * 2); // Left tree top
    ctx.arc(centerX + 155, baseY - 60, 25, 0, Math.PI * 2); // Right tree top
    ctx.fill();
    
    // Grass
    ctx.fillStyle = ARCHITECTURE_PALETTE.find(c => c.type === 'landscape' && c.name.includes('Green Grass')).hex;
    ctx.fillRect(centerX - 200, baseY, 400, 20);
  }
}

/* ---------- Update BOM Table ---------- */
function updateBOMTable(modelData) {
  const tbody = el('bom-table').querySelector('tbody');
  tbody.innerHTML = '';
  
  modelData.bom.forEach(item => {
    const tr = document.createElement('tr');
    tr.innerHTML = `
      <td>${item.component}</td>
      <td><span class="color-dot" style="background:${item.hex}"></span>${getColorName(item.hex)}</td>
      <td>${item.quantity.toLocaleString()}</td>
    `;
    tbody.appendChild(tr);
  });
}

function getColorName(hex) {
  const color = ARCHITECTURE_PALETTE.find(c => c.hex === hex);
  return color ? color.name : 'Custom';
}

/* ---------- Event Listeners ---------- */
el('generate').addEventListener('click', generateModel);

el('order').addEventListener('click', () => {
  if (!lastResult) return alert("Please generate a model first.");
  
  const clientName = el('client-name').value || 'Client';
  alert(`üéâ Thank you for your order!\n\nA premium architectural model for ${clientName} has been added to your cart.\n\nTotal: $249 (including shipping and custom plaque)\n\nEstimated delivery: 5-7 business days`);
});

el('downloadPNG').addEventListener('click', () => {
  if (!lastResult) return alert("Please generate a model first.");
  
  const link = document.createElement('a');
  link.download = `blockforge-architectural-model-${lastResult.style}.png`;
  link.href = el('preview-canvas').toDataURL();
  link.click();
});

el('downloadCSV').addEventListener('click', () => {
  if (!lastResult) return alert("Please generate a model first.");
  
  let csv = "component,color_hex,color_name,quantity\n";
  lastResult.bom.forEach(item => {
    csv += `"${item.component}","${item.hex}","${getColorName(item.hex)}",${item.quantity}\n`;
  });
  
  const blob = new Blob([csv], {type: 'text/csv'});
  const url = URL.createObjectURL(blob);
  const link = document.createElement('a');
  link.href = url;
  link.download = 'architectural-model-parts-list.csv';
  link.click();
  setTimeout(() => URL.revokeObjectURL(url), 100);
});

el('downloadInstructions').addEventListener('click', () => {
  if (!lastResult) return alert("Please generate a model first.");
  
  const instructions = `
BLOCKFORGE ARCHITECTURAL MODEL
===============================
Client: ${lastResult.clientName}
Property: ${lastResult.propertyAddress}
Closing Date: ${lastResult.closingDate}
Realtor: ${lastResult.realtorName}

MODEL SPECIFICATIONS:
---------------------
‚Ä¢ Style: ${lastResult.style.charAt(0).toUpperCase() + lastResult.style.slice(1)}
‚Ä¢ Size: ${lastResult.modelWidth} inches wide
‚Ä¢ Total Bricks: ${lastResult.totalBricks.toLocaleString()}
‚Ä¢ Weight: ${lastResult.modelWeight} lbs

BUILD INSTRUCTIONS:
-------------------
1. Start with the foundation base
2. Build walls layer by layer
3. Install windows and doors
4. Add roof structure
5. Install landscaping elements
6. Attach custom plaque

For detailed step-by-step instructions with diagrams,
visit: https://blockforge.com/instructions/${lastResult.style}

Need help? Contact support@blockforge.com
  `;
  
  const blob = new Blob([instructions], {type: 'text/plain'});
  const url = URL.createObjectURL(blob);
  const link = document.createElement('a');
  link.href = url;
  link.download = 'architectural-model-instructions.txt';
  link.click();
  setTimeout(() => URL.revokeObjectURL(url), 100);
});

/* ---------- Initialize Animations ---------- */
document.addEventListener('DOMContentLoaded', () => {
  const cards = document.querySelectorAll('.value-card, .panel');
  cards.forEach((card, index) => {
    setTimeout(() => {
      card.style.opacity = '1';
      card.style.transform = 'translateY(0)';
    }, index * 100);
  });
});
</script>
</body>
</html>